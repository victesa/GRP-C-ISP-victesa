import type { GetSingularQueryOutput, SingularQueryKind } from 'jsr:@iroha/core@^0.4.0-beta.1'
import type { QueryExecutor } from './query.js'

export * from './query.js'

export async function executeSingularQuery<K extends SingularQueryKind>(
  executor: QueryExecutor,
  kind: K,
): Promise<GetSingularQueryOutput<K>> {
  const result = await executor.executeSingular({ kind })
  return result.value as GetSingularQueryOutput<K>
}
