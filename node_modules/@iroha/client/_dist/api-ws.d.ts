import type Emittery from "emittery";
import * as dm from "@jsr/iroha__core/data-model";
import type { SocketEmitMapBase } from "./util.js";
import { type IsomorphicWebSocketAdapter } from "./web-socket/mod.js";
/**
 * Lower-level client
 */ export declare class WebSocketAPI {
  public readonly toriiBaseURL: URL;
  public readonly adapter: IsomorphicWebSocketAdapter;
  /**
   * Create an instance.
   * @param toriiBaseURL Torii base URL
   * @param adapter A custom WebSocket adapter. Uses native by default.
   * See the {@linkcode [web-socket]} module for more details.
   */ public constructor(toriiBaseURL: URL, adapter?: IsomorphicWebSocketAdapter);
  public blocksStream(params?: SetupBlocksStreamParams): Promise<SetupBlocksStreamReturn>;
  public events(params?: SetupEventsParams): Promise<SetupEventsReturn>;
}
export interface SetupBlocksStreamParams {
  fromBlockHeight?: dm.NonZero<number | bigint>;
}
export interface BlocksStreamEmitteryMap extends SocketEmitMapBase {
  block: dm.SignedBlock;
}
export interface SetupBlocksStreamReturn {
  stop: () => Promise<void>;
  isClosed: () => boolean;
  ee: Emittery<BlocksStreamEmitteryMap>;
}
export interface EventsEmitteryMap extends SocketEmitMapBase {
  event: dm.EventBox;
}
export interface SetupEventsParams {
  filters?: dm.EventFilterBox[];
}
export interface SetupEventsReturn {
  stop: () => Promise<void>;
  isClosed: () => boolean;
  ee: Emittery<EventsEmitteryMap>;
}
//# sourceMappingURL=api-ws.d.ts.map