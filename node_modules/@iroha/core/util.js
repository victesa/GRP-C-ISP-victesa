/**
 * Variant of an enumeration (discriminated union) with value.
 *
 * Also: {@link VariantUnit}
 */ /**
 * Sorts and deduplicates elements of an array given a comparator.
 *
 * Deduplication works for elements for which comparator returns zero.
 * It leaves the last occurence of a value.
 *
 * @param items the array to sort and deduplicate
 * @param compareFn comparator
 * @returns a new array with items sorted and deduplicated.
 */ export function toSortedSet(items, compareFn) {
  // TODO: optimise, not a very efficient implementation
  return [
    ...items
  ].sort(compareFn).filter((val, i, arr)=>{
    if (i < arr.length - 1) {
      const next = arr[i + 1];
      const ordering = compareFn(val, next);
      if (ordering === 0) return false;
    }
    return true;
  });
}
//# sourceMappingURL=util.js.map